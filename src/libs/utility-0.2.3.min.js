/*!
 * Utility v0.2.3
 * http://code.google.com/p/utility-js/
 *
 * Developed by:
 * - Xotic750
 *
 * GPL version 3 or any later version; http://www.gnu.org/copyleft/gpl.html
 */
(function(){function x(n){throw n;}var G=null;function da(n){return function(){return this[n]}}function R(n){return function(){return n}}
(function(){function n(a){a=isFinite(a)?Math.floor(a):0;return a>=0?a:0}function z(a){return a===G||a===void 0?String(a):ua[Object.prototype.toString.call(a)]||"object"}function L(a){return z(a)==="object"}function va(a){return a&&L(a)&&"setInterval"in a}function ba(a){return z(a)==="boolean"}function l(a){return z(a)==="function"}function D(a){return z(a)==="number"}function t(a){return z(a)==="string"}function A(a){return z(a)==="undefined"}function la(a){return z(a)==="null"}function E(a){return!A(a)&&
!la(a)}function S(a){return!E(a)||!/\d/.test(a)||isNaN(a)}function y(a){if(!a||!L(a)||a.nodeType||va(a))return!1;if(a.constructor&&!Object.prototype.hasOwnProperty.call(a,"constructor")&&!Object.prototype.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))return!1;for(var b in a);return A(b)||Object.prototype.hasOwnProperty.call(a,b)}function ea(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function r(a,b){a=t(a)?a+": ":"";n(arguments.length)>2?q.error(a+b,Array.prototype.slice.call(arguments,
2)):q.error(a+b);x(b)}function T(a){l(a)||r(new TypeError(a+" is not a function"))}function Y(a){if(F(a))return n(a.length);else if(y(a)){var b=0,c;for(c in a)a.hasOwnProperty(c)&&(b+=1);return b}return 0}function Z(a,b){var c;if(z(a)!==z(b))return!1;switch(z(a)){case "object":if(Y(a)!==Y(b))return!1;for(c in a)if(a.hasOwnProperty(c)&&(!b.hasOwnProperty(c)||!Z(a[c],b[c])))return!1;for(c in b)if(b.hasOwnProperty(c)&&!a.hasOwnProperty(c))return!1;break;case "array":c=n(a.length);if(c!==n(b.length))return!1;
for(c-=1;c>=0;){if(!Z(a[c],b[c]))return!1;c-=1}break;default:return a===b}return!0}function u(a){var b=!1;switch(z(a)){case "string":b=n(a.length)?!0:!1;break;case "number":b=!0;break;case "object":b=E(a.length)?n(a.length)?!0:!1:!ea(a);break;case "array":b=n(a.length)?!0:!1;break;case "boolean":b=!0;break;case "function":b=!0;break;case "regexp":b=!0;break;case "date":b=!0}return b}function M(a,b){return u(a)?a:b}function ma(){var a,b,c,d,e,f=arguments[0]||{},j=1,i=n(arguments.length),h=!1;ba(f)&&
(h=f,f=arguments[1]||{},j=2);for(!L(f)&&!l(f)&&(f={});j<i;j+=1)if(a=arguments[j],E(a))for(b in a)a.hasOwnProperty(b)&&(c=f[b],d=a[b],f!==d&&(e=F(d),h&&d&&(y(d)||e)?(c=e?c&&F(c)?c:[]:c&&y(c)?c:{},f[b]=ma(h,c,d)):A(d)||(f[b]=d)));return f}function U(a,b,c){T(c);a.attachEvent?(a["e"+b+c]=c,a[b+c]=function(){a["e"+b+c](window.event)},a.attachEvent("on"+b,a[b+c])):a.addEventListener(b,c,!1)}function V(a,b,c){T(c);a.detachEvent?(a.detachEvent("on"+b,a[b+c]),a[b+c]=G):a.removeEventListener(b,c,!1)}function wa(a,
b,c){var d=[],e={},f=0,f="",j=0,c=c?c:!1;for(f in a)a.hasOwnProperty(f)&&d.push(f);d.sort(b);f=0;for(j=n(d.length);f<j;f+=1)e[d[f]]=c&&y(a[d[f]])?wa(a[d[f]],b,c):e[d[f]]=a[d[f]];return e}function na(a){return u(a)?a.charAt(0)==="#"?a.slice(1):a:""}function fa(a){return a.charAt(0)==="#"?a:"#"+a}function ga(a){a=na(a);a=n(a.length)===3?a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2):a.rpad("0",6);return{r:a.slice(0,2).parseInt(16),g:a.slice(2,4).parseInt(16),b:a.slice(4,6).parseInt(16)}}
function xa(a){a=ga(a);return(a.r*299+a.g*587+a.b*114)/1E3}function ca(a){return(a<0?4294967295+a+1:a).toString(16).toUpperCase()}function oa(a){return na(a).parseInt(16)}function O(a){if(a!==I)this.h="#000000",this.d=0,this.r={r:0,g:0,b:0},this.o=y(a)?a:{}}function B(a,b,c){if(a!==I)this.utf8encode=A(c)?!0:c,this.password=c?a.Utf8encode():a,this.nBits=b===128||b===192||b===256?b:256}function $(a){if(a!==I)a=y(a)&&u(a)?a:{},this.log_version=M(a.log_version,""),this.log_level=M(a.log_version,1)}function W(a){if(a!==
I)a=y(a)&&u(a)?a:{},this.referencePrefix="`",this.referenceIntBase=M(a.referenceIntBase,96),this.referenceIntFloorCode=" ".charCodeAt(0),this.referenceIntCeilCode=this.referenceIntFloorCode+this.referenceIntBase-1,this.maxStringDistance=Math.pow(this.referenceIntBase,2)-1,this.minStringLength=M(a.minStringLength,5),this.maxStringLength=Math.pow(this.referenceIntBase,1)-1+this.minStringLength,this.defaultWindowLength=M(a.defaultWindowLength,144),this.maxWindowLength=this.maxStringDistance+this.minStringLength}
function P(a){if(a!==I)a=y(a)&&u(a)?a:{},this.namespace=t(a.namespace)?a.namespace:"",this.useRison=ba(a.useRison)?a.useRison:"RISON"in window,this.storage_id=t(a.storage_id)?a.storage_id:"",a=t(a.storage_type)?a.storage_type:"localStorage",this.storage_type=ha[a]?a:ha.greaseMonkey?"greaseMonkey":"None available"}function J(a){if(a!==I)this.available="open"in window.indexedDB,this.ready=!1,this.adelay=5E3,this.rdelay=10,this.db=G}function C(a){if(a!==I)this.vars={},this.length=0}function H(a){a!==
I&&C.call(this)}function w(a,b,c,d){if(a!==I)(!t(a)||!u(a))&&r("ScheduleStorageHelper",new TypeError(a+" is an invalid identifier")),(!t(b)||!u(b))&&r("ScheduleStorageHelper",new TypeError(b+" is an invalid key")),y(c)||r("ScheduleStorageHelper",new TypeError(c+" is an invalid option type")),H.call(this),this.id=a,this.keyName=d=u(d)&&t(d)?d:"key",this[d]=b,this.storage=new P(c),this.load()}function v(a,b,c,d){if(a!==I)(!t(a)||!u(a))&&r("ConfigHelper",new TypeError(a+" is an invalid identifier")),
(!t(b)||!u(b))&&r("ConfigHelper",new TypeError(b+" is an invalid key")),y(c)||r("ConfigHelper",new TypeError(c+" is an invalid option type")),C.call(this),this.id=a,this.keyName=d=u(d)&&t(d)?d:"key",this[d]=b,this.storage=new P(c),this.load()}function pa(a){qa.lastIndex=0;return qa.test(a)?'"'+a.replace(qa,function(a){var c=za[a];return t(c)?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function ia(a,b){var c,d,e,f,j=K,i,h=b[a];E(h)&&l(h.toJSON)&&(h=h.toJSON(a));l(N)&&(h=
N.call(b,a,h));switch(typeof h){case "string":return pa(h);case "number":return isFinite(h)?String(h):"null";case "boolean":case "null":return String(h);case "object":if(!h)return"null";K+=ja;i=[];if(F(h)){f=n(h.length);for(c=0;c<f;c+=1)i[c]=ia(c,h)||"null";e=n(i.length)===0?"[]":K?"[\n"+K+i.join(",\n"+K)+"\n"+j+"]":"["+i.join(",")+"]";K=j;return e}if(F(N)){f=n(N.length);for(c=0;c<f;c+=1)d=N[c],t(d)&&(e=ia(d,h))&&i.push(pa(d)+(K?": ":":")+e)}else for(d in h)Object.hasOwnProperty.call(h,d)&&(e=ia(d,
h))&&i.push(pa(d)+(K?": ":":")+e);e=n(i.length)===0?"{}":K?"{\n"+K+i.join(",\n"+K)+"\n"+j+"}":"{"+i.join(",")+"}";K=j;return e}}function ra(a){if(n(a.length)===0)return"''";if(s.id_ok.test(a))return a;a=a.replace(/(['!])/mg,"!$1");return"'"+a+"'"}function X(a,b){var c,d,e,f,j,i=b[a];E(i)&&l(i.toRISON)&&(i=i.toRISON(a));l(N)&&(i=N.call(b,a,i));switch(typeof i){case "string":return ra(i);case "number":return isFinite(i)?String(i).replace("+",""):"!n";case "boolean":return i?"!t":"!f";case "null":return"!n";
case "object":if(!i)return"!n";j=[];if(F(i)){f=n(i.length);for(c=0;c<f;c+=1)j[c]=X(c,i)||"!n";return e=n(j.length)===0?"!()":"!("+j.join(",")+")"}if(F(N)){f=n(N.length);for(c=0;c<f;c+=1)d=N[c],t(d)&&(e=X(d,i))&&j.push(ra(d)+":"+e)}else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=X(d,i))&&j.push(ra(d)+":"+e);j.sort(function(a,b){a=a.split(":")[0];b=b.split(":")[0];return(a>b)-(a<b)});return e=n(j.length)===0?"()":"("+j.join(",")+")"}}var aa=!1,ka=!1,Aa=window.utility,Ba=window.$u,sa,aa={},s={},
p={},q,ta=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,qa=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,K,ja,za={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},N,ua={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date",
"[object RegExp]":"regexp","[object Object]":"object"},I={},F,ha={},ya={},Q={};"create"in Object||(Object.create=function(){function a(){}return function(b){a.prototype=b;return new a}}());"swiss"in Function.prototype||(Function.prototype.swiss=function(a){for(var b=n(arguments.length),c=1,d,c=1;c<b;c+=1)d=arguments[c],this.prototype[d]=a.prototype[d];return this});F=Array.isArray||function(a){return z(a)==="array"};(function(){function a(a){Q[a.type]=!0}var b=document.createElement("div"),c=b.cloneNode(!0),
d=document.createTextNode("text"),e;b.id="MET";b.style.display="none";document.body.appendChild(b);e=document.getElementById(b.id);b="DOMNodeInsertedIntoDocument";Q[b]=!1;U(d,b,a);e.appendChild(d);V(d,b,a);d=G;b="DOMCharacterDataModified";Q[b]=!1;d=e.firstChild;U(d,b,a);d.deleteData(0,2);V(d,b,a);d=G;b="DOMSubtreeModified";Q[b]=!1;U(e,b,a);e.innerHTML="DSM";V(e,b,a);b="DOMNodeInserted";Q[b]=!1;U(e,b,a);e.appendChild(c);V(e,b,a);b="DOMNodeRemoved";Q[b]=!1;U(e,b,a);e.removeChild(c);V(e,b,a);c=G;b="DOMAttrModified";
Q[b]=!1;U(e,b,a);e.id="DAM";V(e,b,a);b="DOMNodeRemovedFromDocument";Q[b]=!1;U(e,b,a);document.body.removeChild(e);V(e,b,a);e=G})();O.prototype.setOpt=function(a){this.o=y(a)?a:{}};O.prototype.getOpt=da("o");O.prototype.setHex=function(a){this.h=fa(a);this.d=oa(a);this.r=ga(a)};O.prototype.getHex=da("h");O.prototype.setDec=this.X=function(a){this.h=fa(ca(a));this.d=a;this.r=ga(this.h)};O.prototype.getDec=da("d");O.prototype.setRgb=function(a){function b(a){return a&&n(a.length)===1?"0"+a:a}if(y(a))this.r=
a;else if(t(a))this.r=(a=a.regex(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/))&&n(a.length)===3?{r:a[0],g:a[1],b:a[2]}:{r:0,g:0,b:0};this.h=fa(b(ca(this.r.r))+b(ca(this.r.g))+b(ca(this.r.b)));this.d=oa(this.h)};O.prototype.getRgb=function(){return this.o.rgb==="string"?"rgb("+this.r.r+","+this.r.g+","+this.r.b+")":this.h};sa=function(){function a(a){return L(a)?Object.create(a):a}function b(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}function c(){try{this.k=[];var a=this;this.Q=function(b){return a.p(b)};
this.depth=0}catch(b){r("owl.DeepCopyAlgorithm",b)}}function d(a,b){try{var d=new c;if(b)d.u=b;return d.p(a)}catch(e){return r("owl.deepCopy",e)}}var e=[];b.prototype={constructor:b};c.prototype={constructor:c,u:256,C:function(a,b){this.k.push([a,b])},K:function(a){try{for(var b=this.k,c=n(b.length),d=0,d=0;d<c;d+=1)if(b[d][0]===a)return b[d][1]}catch(e){return r("owl.DeepCopyAlgorithm.getCachedResult",e)}},p:function(a){try{if(la(a))return G;if(!L(a))return a;var b=this.K(a),c=0,d=n(e.length),k;
if(b)return b;for(c=0;c<d;c+=1)if(k=e[c],k.canCopy(a))return this.v(k,a);x(Error("no DeepCopier is able to copy "+a))}catch(g){return r("owl.DeepCopyAlgorithm.deepCopy",g)}},v:function(a,b){try{var c=a.create(b);this.C(b,c);this.depth+=1;this.depth>this.u&&x(Error("Exceeded max recursion depth in deep copy."));a.populate(this.Q,b,c);this.depth-=1;return c}catch(d){return r("owl.DeepCopyAlgorithm.applyDeepCopier",d)}}};d.DeepCopier=b;d.deepCopiers=e;d.register=function(a){a instanceof b||(a=new b(a));
e.unshift(a)};d.register({canCopy:R(!0),create:function(b){return b instanceof b.constructor?a(b.constructor.prototype):{}},populate:function(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(c[d]=a(b[d]));return c}});d.register({canCopy:function(a){return a instanceof Array},create:function(a){return new a.constructor},populate:function(a,b,c){for(var d=0,e=n(b.length),d=0;d<e;d+=1)c.push(a(b[d]));return c}});d.register({canCopy:function(a){return a instanceof Date},create:function(a){return new Date(a)}});
d.register({canCopy:function(a){return window.Node?a instanceof window.Node:a===document?!0:D(a.nodeType)&&a.attributes&&a.childNodes&&a.cloneNode},create:function(a){return a===document?document:a.cloneNode(!1)},populate:function(a,b,c){if(b===document)return document;for(var d=0,e=b.childNodes?n(b.childNodes.length):0,g,d=0;d<e;d+=1)g=a(b.childNodes[d]),c.appendChild(g)}});d.register({canCopy:function(a){return a instanceof jQuery},create:function(a){return new a.constructor},populate:function(a,
b,c){ma(!0,c,b);return c}});return{copy:function(b){var c,d;if(L(b))if(c=b.valueOf(),b!==c)return new b.constructor(c);else{c=!y(b)?a(b.constructor.prototype):{};for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c}else return b},clone:a,deepCopy:d}}();B.sBox=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,
26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,
62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22];B.rCon=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]];B.prototype._subBytes=function(a,b){for(var c=0,d=0,c=0;c<4;c+=1)for(d=0;d<b;d+=1)a[c][d]=B.sBox[a[c][d]];return a};B.prototype._shiftRows=function(a,b){for(var c=[],d=1,e=0,d=1;d<4;d+=1){for(e=0;e<4;e+=1)c[e]=
a[d][(e+d)%b];for(e=0;e<4;e+=1)a[d][e]=c[e]}return a};B.prototype._mixColumns=function(a){for(var b=0,c=[],d=[],e=0,b=0;b<4;b+=1){c=[];d=[];for(e=0;e<4;e+=1)c[e]=a[e][b],d[e]=a[e][b]&128?a[e][b]<<1^283:a[e][b]<<1;a[0][b]=d[0]^c[1]^d[1]^c[2]^c[3];a[1][b]=c[0]^d[1]^c[2]^d[2]^c[3];a[2][b]=c[0]^c[1]^d[2]^c[3]^d[3];a[3][b]=c[0]^d[0]^c[1]^c[2]^d[3]}return a};B.prototype._addRoundKey=function(a,b,c,d){for(var e=0,f=0,e=0;e<4;e+=1)for(f=0;f<d;f+=1)a[e][f]^=b[c*4+f][e];return a};B.prototype._cipher=function(a,
b){for(var c=n(b.length)/4-1,d=[[],[],[],[]],e=0,e=1,f=[],e=0;e<16;e+=1)d[e%4][Math.floor(e/4)]=a[e];d=this._addRoundKey(d,b,0,4);for(e=1;e<c;e+=1)d=this._subBytes(d,4),d=this._shiftRows(d,4),d=this._mixColumns(d,4),d=this._addRoundKey(d,b,e,4);d=this._subBytes(d,4);d=this._shiftRows(d,4);d=this._addRoundKey(d,b,c,4);f=[];for(e=0;e<16;e+=1)f[e]=d[e%4][Math.floor(e/4)];return f};B.prototype._subWord=function(a){for(var b=0,b=0;b<4;b+=1)a[b]=B.sBox[a[b]];return a};B.prototype._rotWord=function(a){for(var b=
a[0],c=0,c=0;c<3;c+=1)a[c]=a[c+1];a[3]=b;return a};B.prototype._keyExpansion=function(a){for(var b=n(a.length)/4,c=b+6,d=[],e=[],f=0,j=0,f=0;f<b;f+=1)d[f]=[a[4*f],a[4*f+1],a[4*f+2],a[4*f+3]];for(f=b;f<4*(c+1);f+=1){d[f]=[];for(j=0;j<4;j+=1)e[j]=d[f-1][j];if(f%b===0){e=this._subWord(this._rotWord(e));for(j=0;j<4;j+=1)e[j]^=B.rCon[f/b][j]}else b>6&&f%b===4&&(e=this._subWord(e));for(j=0;j<4;j+=1)d[f][j]=d[f-b][j]^e[j]}return d};B.prototype.encrypt=function(a){try{var a=this.utf8encode?a.Utf8encode():
a,b=this.nBits/8,c=[],d=0,e=[],f=[],j=Math.floor(f/1E3);f%=1E3;for(var i=[],h="",k=[],g=0,m=[],o=0,l=0,p=[],q=0,s=[],t="",d=0;d<b;d+=1)c[d]=S(this.password.charCodeAt(d))?0:this.password.charCodeAt(d);i=this._cipher(c,this._keyExpansion(c));i=i.concat(i.slice(0,b-16));for(d=0;d<4;d+=1)e[d]=j>>>d*8&255;for(d=0;d<4;d+=1)e[d+4]=f&255;for(d=0;d<8;d+=1)h+=String.fromCharCode(e[d]);k=this._keyExpansion(i);g=Math.ceil(n(a.length)/16);m=[];for(o=0;o<g;o+=1){for(l=0;l<4;l+=1)e[15-l]=o>>>l*8&255;for(l=0;l<
4;l+=1)e[15-l-4]=o/4294967296>>>l*8;p=this._cipher(e,k);q=o<g-1?16:(n(a.length)-1)%16+1;s=[];for(d=0;d<q;d+=1)s[d]=p[d]^a.charCodeAt(o*16+d),s[d]=String.fromCharCode(s[d]);m[o]=s.join("")}t=h+m.join("");return t=t.Base64encode()}catch(u){return r("Aes.encrypt",u)}};B.prototype.decrypt=function(a){try{for(var a=a.Base64decode(),b=this.nBits/8,c=[],d=0,e=0,f=[],j=[],i=[],h=[],k=0,g=[],m=0,o=[],l=0,p=[],q=[],s="",d=0;d<b;d+=1)c[d]=S(this.password.charCodeAt(d))?0:this.password.charCodeAt(d);f=this._cipher(c,
this._keyExpansion(c));f=f.concat(f.slice(0,b-16));j=[];i=a.slice(0,8);for(d=0;d<8;d+=1)j[d]=i.charCodeAt(d);h=this._keyExpansion(f);k=Math.ceil((n(a.length)-8)/16);g=[];for(m=0;m<k;m+=1)g[m]=a.slice(8+m*16,m*16+24);a=g;o=[];for(m=0;m<k;m+=1){for(l=0;l<4;l+=1)j[15-l]=m>>>l*8&255;for(l=0;l<4;l+=1)j[15-l-4]=(m+1)/4294967296-1>>>l*8&255;p=this._cipher(j,h);q=[];e=n(a[m].length);for(d=0;d<e;d+=1)q[d]=p[d]^a[m].charCodeAt(d),q[d]=String.fromCharCode(q[d]);o[m]=q.join("")}s=o.join("");return s=this.utf8encode?
s.Utf8decode():s}catch(t){return r("Aes.decrypt",t)}};$.prototype.log_common=function(a,b,c){var d,e,f,j;if(this.log_level>=1&&!S(b)&&this.log_level>=b&&(d=this.log_version+" |"+(new Date).toLocaleTimeString()+"| "+c,e=[],a=M(a,"log"),a=a in window.console?a:"log"in window.console?"log":"",u(a)))if(n(arguments.length)===4){f=0;for(j=n(arguments[3].length);f<j;f+=1)e.push(arguments[3][f]===window||arguments[3][f]===document?arguments[3][f]:sa.deepCopy(arguments[3][f]));window.console[a](d,e)}else window.console[a](d)};
$.prototype.log=function(a,b){n(arguments.length)>2?this.log_common("log",a,b,Array.prototype.slice.call(arguments,2)):this.log_common("log",a,b);return Array.prototype.slice.call(arguments,1)};$.prototype.warn=function(a){n(arguments.length)>1?this.log_common("warn",1,a,Array.prototype.slice.call(arguments,1)):this.log_common("warn",1,a);return Array.prototype.slice.call(arguments)};$.prototype.error=function(a){n(arguments.length)>1?this.log_common("error",1,a,Array.prototype.slice.call(arguments,
1)):this.log_common("error",1,a);return Array.prototype.slice.call(arguments)};W.prototype._encodeReferenceInt=function(a,b){if(a>=0&&a<Math.pow(this.referenceIntBase,b)-1){for(var c="",d=0,e=0,d=Math.floor,f=String.fromCharCode;a>0;)c=f(a%this.referenceIntBase+this.referenceIntFloorCode)+c,a=d(a/this.referenceIntBase);e=b-c.length;for(d=0;d<e;d+=1)c=f(this.referenceIntFloorCode)+c;return c}else return r("LZ77.compress",Error("Reference int out of range: "+a+" (width = "+b+")"))};W.prototype._decodeReferenceInt=
function(a,b){for(var c=0,d=0,e=0,d=0;d<b;d+=1)if(c*=this.referenceIntBase,e=a.charCodeAt(d),e>=this.referenceIntFloorCode&&e<=this.referenceIntCeilCode)c+=e-this.referenceIntFloorCode;else return r("LZ77.compress",Error("Invalid char code in reference int: "+e));return c};W.prototype.compress=function(a,b){b=b||this.defaultWindowLength;if(b>this.maxWindowLength)return r("LZ77.compress",Error("Window length too large"));for(var c="",d=0,e=a.length-this.minStringLength,f=0,j=0,i=!1,h={},f=G,j=0,k=
Math.max,h=0;d<e;){f=k(d-b,0);j=this.minStringLength;i=!1;for(h={q:this.maxStringDistance,length:0};f+j<d;)if(j<this.maxStringLength&&a.substr(f,j)===a.substr(d,j))j+=1,i=!0;else{j-=1;if(i&&j>h.length)h.q=d-f-j,h.length=j;j=this.minStringLength;f+=1;i=!1}h.length?(f=this.referencePrefix+this._encodeReferenceInt(h.q,2)+this._encodeReferenceInt(h.length-this.minStringLength,1),d+=h.length):(h=a.charAt(d),f=h!==this.referencePrefix?h:this.referencePrefix+this.referencePrefix,d+=1);c+=f}return c+a.slice(d).replace(/`/g,
"``")};W.prototype.decompress=function(a){for(var b="",c=0,d="",d="",e=d=0,f=this.minStringLength-1,j=a.length,e=0;c<j;)d=a.charAt(c),d!==this.referencePrefix?(b+=d,c+=1):(e=c+1,d=a.charAt(e),d!==this.referencePrefix?(d=this._decodeReferenceInt(a.substr(e,2),2),e=this._decodeReferenceInt(a.charAt(c+3),1)+this.minStringLength,b+=b.substr(b.length-d-e,e),c+=f):(b+=this.referencePrefix,c+=2));return b};"LZ77Compress"in String.prototype||(String.prototype.LZ77Compress=function(){var a=new W;return function(){return a.compress(this)}}());
"LZ77Decompress"in String.prototype||(String.prototype.LZ77Decompress=function(){var a=new W;return function(){return a.decompress(this)}}());ha={localStorage:"localStorage"in window&&L(window.localStorage),sessionStorage:"sessionStorage"in window&&L(window.sessionStorage),greaseMonkey:"unsafeWindow"in this&&L(this.unsafeWindow)};P.prototype.storage_ref=function(a){return(this.namespace?this.namespace+".":"")+(a?a+".":this.storage_id?this.storage_id+".":"")};P.prototype.setItem=function(a,b,c,d){try{a=
t(a)?a:D(a)?a.toString():"";u(a)||x(new TypeError("Invalid identifying name! ("+a+")"));E(b)||x(new TypeError("Value supplied is 'undefined' or 'null'! ("+b+")"));var c=D(c)?c:!1,e=c!==!1&&c>=0&&c<=3,f="",j="",i=e?JSON.hpack(b,c):[],h=this.useRison?"RISON.encode":"JSON.stringify",k=this.storage_ref()+a,i=e?F(i)?i:[]:b,f=this.useRison?s.encode(i):JSON.stringify(i);t(f)||x(new TypeError(h+" returned ("+z(f)+")"));f=(e?this.useRison?"R-HPACK ":"HPACK ":this.useRison?"RISON ":"")+f;j=ba(d)&&d?"LZ77 "+
f.LZ77Compress():f;switch(this.storage_type){case "localStorage":case "sessionStorage":window[this.storage_type].setItem(k,j);break;case "greaseMonkey":GM_setValue(k,j);break;default:x(Error("No storage type available!"))}return b}catch(g){return r("StorageHelper.setItem",g,{name:a,value:b})}};P.prototype.getItem=function(a,b,c){try{a=t(a)?a:D(a)?a.toString():"";u(a)||x(new TypeError("Invalid identifying name! ("+a+")"));var d=G,e="",f=this.storage_ref()+a;switch(this.storage_type){case "localStorage":case "sessionStorage":e=
window[this.storage_type].getItem(f);break;case "greaseMonkey":e=GM_getValue(f);break;default:x(Error("No storage type available!"))}t(e)&&(e.match(/^LZ77 /)&&(e=e.slice(5).LZ77Decompress()),t(e)&&(d=e.match(/^R-HPACK /)?JSON.hunpack(s.decode(e.slice(8))):e.match(/^RISON /)?s.decode(e.slice(6)):e.match(/^HPACK /)?JSON.hunpack(JSON.parse(e.slice(6))):JSON.parse(e)));E(d)||((c=ba(c)?c:!1)||q.warn("utility.StorageHelper.getItem parsed string returned 'undefined' or 'null' for ",a),E(b)?(c||q.warn("utility.StorageHelper.getItem using default value ",
b),d=b):x("No default value supplied! ("+b+")"));return d}catch(j){if(r("StorageHelper.getItem",j),j.match(/Invalid JSON/)&&t(a)&&u(a))if(E(b))return this.setItem(a,b),b;else this.deleteItem(a)}};P.prototype.deleteItem=function(a){try{a=t(a)?a:D(a)?a.toString():"";u(a)||x(new TypeError("Invalid identifying name! ("+a+")"));var b=this.storage_ref()+a;switch(this.storage_type){case "localStorage":case "sessionStorage":window[this.storage_type].removeItem(b);break;case "greaseMonkey":GM_deleteValue(b);
break;default:x(Error("No storage type available!"))}return!0}catch(c){return r("StorageHelper.deleteItem",c)}};P.prototype.clear=function(a){try{var a=t(a)?a:D(a)?a.toString():"",b=[],c=0,d=0,e=!1,f=this.storage_ref(a),j=RegExp("^"+f);switch(this.storage_type){case "localStorage":case "sessionStorage":if(ka)for(;!e;)try{window[this.storage_type].key(c)&&window[this.storage_type].key(c).match(j)&&window[this.storage_type].removeItem(window[this.storage_type].key(c)),c+=1}catch(i){e=!0}else{c=0;for(d=
n(window[this.storage_type].length);c<d;c+=1)window[this.storage_type].key(c)&&window[this.storage_type].key(c).match(j)&&window[this.storage_type].removeItem(window[this.storage_type].key(c))}break;case "greaseMonkey":b=GM_listValues();c=0;for(d=n(b.length);c<d;c+=1)b[c]&&b[c].match(j)&&GM_deleteValue(b[c]);break;default:x(Error("No storage type available!"))}return!0}catch(h){return r("StorageHelper.clear",h)}};P.prototype.used=function(a){try{var a=t(a)?a:D(a)?a.toString():"",b=[],c=0,d=0,e=0,
f=0,j=!1,i=this.storage_ref(a),h=RegExp("^"+i);switch(this.storage_type){case "localStorage":case "sessionStorage":if(ka)for(;!j;)try{f+=n(window[this.storage_type].getItem(window[this.storage_type].key(c)).length),window[this.storage_type].key(c).match(h)&&(e+=n(window[this.storage_type].getItem(window[this.storage_type].key(c)).length)),c+=1}catch(k){j=!0}else{c=0;for(d=n(window[this.storage_type].length);c<d;c+=1)f+=n(window[this.storage_type].getItem(window[this.storage_type].key(c)).length),
window[this.storage_type].key(c).match(h)&&(e+=n(window[this.storage_type].getItem(window[this.storage_type].key(c)).length))}break;case "greaseMonkey":b=GM_listValues();c=0;for(d=n(b.length);c<d;c+=1)f+=n(GM_getValue(b[c]).length),b[c]&&b[c].match(h)&&(e+=n(GM_getValue(b[c]).length));break;default:x(Error("No storage type available!"))}return{type:this.storage_type,match:e,total:f}}catch(g){return r("StorageHelper.used",g)}};"indexedDB"in window||(window.indexedDB=window.webkitIndexedDB||window.mozIndexedDB||
{});"IDBCursor"in window||(window.IDBCursor=window.webkitIDBCursor||window.mozIDBCursor||{});"IDBKeyRange"in window||(window.IDBKeyRange=window.webkitIDBKeyRange||window.mozIDBKeyRange||{});"IDBTransaction"in window||(window.IDBTransaction=window.webkitIDBTransaction||window.mozIDBTransaction||{});J.prototype.transaction=function(a,b){try{var a=a?a:"default",b=b?b:"READ_ONLY",c=this.onsuccess,d=this.onabort,e=this.onerror,f,j;delete this.onsuccess;delete this.onblocked;delete this.onabort;delete this.onerror;
delete this.oncomplete;if(!this.available)return l(d)&&d({message:"Indexed DB is not available"}),!1;f=this.db.transaction([a],window.IDBTransaction[b],this.adelay);j=f.objectStore(a);f.oncomplete=function(b){q.log(2,"Complete: transaction",a,b);l(c)&&c(b)};f.onabort=function(b){q.error("Abort: transaction",a,b);l(d)&&d(b)};f.onerror=function(b){q.error("Error: transaction",a,b);l(e)&&e(b)};return j}catch(i){return r("IDBHelperAsync.transaction",i)}};J.prototype.createObjectStore=function(a,b){try{var c=
this.onsuccess,d=this.onabort,e=this.onerror,f=this.onblocked,j=this,i=!0,h;delete this.onsuccess;delete this.onblocked;delete this.onabort;delete this.onerror;delete this.oncomplete;if(!this.available)return l(d)&&d({message:"Indexed DB is not available"}),!1;var k=function(){if(j.ready)if(h&&window.clearTimeout(h),a=a?a:"default",j.db.objectStoreNames.contains(a))l(c)&&c({message:"Object store already exists: "+a});else{j.ready=!1;b=b?{keyPath:b}:{autoIncrement:!0};var g=j.db.setVersion(j.db.version?
j.db.version:"1");g.onsuccess=function(d){j.db.createObjectStore(a,b);j.ready=!0;l(c)&&c(d)};g.onblocked=function(a){j.ready=!0;q.error("Blocked: createObjectStore",a);l(f)&&f(a)};g.onabort=function(a){j.ready=!0;q.error("Abort: createObjectStore",a);l(d)&&d(a)};g.onerror=function(a){j.ready=!0;q.error("Error: createObjectStore",a);l(e)&&e(a)}}else h||(h=window.setTimeout(function(){i=!1;q.warn("DB action timeout");l(d)&&d({message:"DB action timeout"})},j.adelay)),i&&window.setTimeout(k,j.rdelay)};
k();return!0}catch(g){return r("IDBHelperAsync.createObjectStore",g)}};J.prototype.deleteObjectStore=function(a){try{var b=this.onsuccess,c=this.onabort,d=this.onerror,e=this.onblocked,f=this,j=!0,i;delete this.onsuccess;delete this.onblocked;delete this.onabort;delete this.onerror;delete this.oncomplete;if(!this.available)return l(c)&&c({message:"Indexed DB is not available"}),!1;var h=function(){if(f.ready)if(i&&window.clearTimeout(i),f.db.objectStoreNames.contains(a)){f.ready=!1;var g=f.db.setVersion(f.db.version?
f.db.version:"1");g.onsuccess=function(c){f.db.deleteObjectStore(a);f.ready=!0;l(b)&&b(c)};g.onblocked=function(a){f.ready=!0;q.error("Blocked: deleteObjectStore",a);l(c)&&e(a)};g.onabort=function(a){f.ready=!0;q.error("Abort: deleteObjectStore",a);l(c)&&c(a)};g.onerror=function(a){f.ready=!0;q.error("Error: deleteObjectStore",a);l(d)&&d(a)}}else l(b)&&b({message:"No object store to delete: "+a});else i||(i=window.setTimeout(function(){j=!1;q.warn("DB action timeout");l(c)&&c({message:"DB action timeout"})},
f.adelay)),j&&window.setTimeout(h,f.rdelay)};h();return!0}catch(k){return r("IDBHelperAsync.deleteObjectStore",k)}};J.prototype.close=function(){try{var a=this.onabort,b=this,c=!0,d;delete this.onsuccess;delete this.onblocked;delete this.onabort;delete this.onerror;delete this.oncomplete;delete this.onversionchange;if(!this.available)return l(a)&&a({message:"Indexed DB is not available"}),!1;var e=function(){b.ready?(d&&window.clearTimeout(d),b.ready=!1,b.db.close(),b.db=G):(d||(d=window.setTimeout(function(){c=
!1;q.warn("DB action timeout");l(a)&&a({message:"DB action timeout"})},b.adelay)),c&&window.setTimeout(e,b.rdelay))};e();return!0}catch(f){return r("IDBHelperAsync.close",f)}};J.prototype.open=function(a,b,c){try{var d=this.onsuccess,e=this.onabort,f=this.onerror,j=this.onblocked,i=this.onversionchange,h=this,k;delete this.onsuccess;delete this.onblocked;delete this.onabort;delete this.onerror;delete this.oncomplete;if(!this.available)return l(e)&&e({message:"Indexed DB is not available"}),!1;if(this.db)return l(e)?
e({message:"DB is already opened"}):!1;a=a?a:"defaultDB";b=b?b:"Default Database";c=c?c:"1";k=window.indexedDB.open(a,b);k.onsuccess=function(a){h.db=a.target.result;h.db.onversionchange=function(a){q.warn("Version changed",a);h.close();l(i)&&i(a)};h.db.version!==c?(k=h.db.setVersion(c),k.onsuccess=function(a){h.ready=!0;l(d)==="function"&&d(a)},k.onabort=function(a){q.error("Abort: init");l(e)&&e(a)},k.onerror=function(a){q.error("Error: init");l(f)&&f(a)}):(h.ready=!0,l(d)&&d(a))};k.onblocked=function(a){q.error("Blocked: open",
a);l(j)&&j(a)};k.onabort=function(a){q.error("Abort: open",a);l(e)&&e(a)};k.onerror=function(a){q.error("Error: open",a);l(f)&&f(a)};return!0}catch(g){return r("IDBHelperAsync.open",g)}};J.prototype.deleteItem=function(a,b){try{var c=this.onsuccess,d=this.onabort,e=this.onerror,f=this,j=!0,i;delete this.onsuccess;delete this.onblocked;delete this.onabort;delete this.onerror;delete this.oncomplete;if(!this.available)return l(d)&&d({message:"Indexed DB is not available"}),!1;var h=function(){if(f.ready){i&&
window.clearTimeout(i);var g=this.transaction(a,"READ_WRITE");if(!g)return q.error("Error: transaction failure"),l(e)?e({message:"Transaction was undefined or null"}):!1;g=g["delete"](b);g.onsuccess=function(a){l(c)&&c(a)};g.onabort=function(a){q.error("Abort: deleteItem",b);l(d)&&d(a)};g.onerror=function(a){q.error("Error: deleteItem",b);l(e)&&e(a)}}else i||(i=window.setTimeout(function(){j=!1;q.warn("DB action timeout");l(d)&&d({message:"DB action timeout"})},f.adelay)),j&&window.setTimeout(h,f.rdelay);
return!0};h();return!0}catch(k){return r("IDBHelperAsync.deleteItem",k)}};J.prototype.getAllSubset=function(a,b){try{var c=this.onsuccess,d=this.onabort,e=this.onerror,f=this,j=!0,i;delete this.onsuccess;delete this.onblocked;delete this.onabort;delete this.onerror;delete this.oncomplete;if(!this.available)return l(d)&&d({message:"Indexed DB is not available"}),!1;var h=function(){if(f.ready){i&&window.clearTimeout(i);var g=f.transaction(a),k=[];if(!g)return q.error("Error: transaction failure"),
l(e)?e({message:"Transaction was undefined or null"}):!1;g=g.openCursor();g.onsuccess=function(a){var a=a.target.result,d={},e;if(a){for(e in b)b.hasOwnProperty(e)&&(d[e]=a.value[e]);k.push(d);a["continue"]()}else l(c)&&c(k)};g.onabort=function(b){q.error("Abort: getAllSubset",a);l(d)&&d(b)};g.onerror=function(b){q.error("Error: getAllSubset",a);l(e)&&e(b)}}else i||(i=window.setTimeout(function(){j=!1;q.warn("DB action timeout");l(d)&&d({message:"DB action timeout"})},f.adelay)),j&&window.setTimeout(h,
f.rdelay);return!0};h();return!0}catch(k){return r("IDBHelperAsync.getAllSubset",k)}};J.prototype.getAllKeys=function(a,b){try{var c=this.onsuccess,d=this.onabort,e=this.onerror,f=this,j=!0,i;delete this.onsuccess;delete this.onblocked;delete this.onabort;delete this.onerror;delete this.oncomplete;if(!this.available)return l(d)&&d({message:"Indexed DB is not available"}),!1;var h=function(){if(f.ready){i&&window.clearTimeout(i);var g=f.transaction(a),k=[];if(!g)return q.error("Error: transaction failure"),
l(e)?e({message:"Transaction was undefined or null"}):!1;b=b?b:g.keyPath;g=g.openCursor();g.onsuccess=function(a){(a=a.target.result)?(k.push(a.value[b]),a["continue"]()):l(c)&&c(k)};g.onabort=function(b){q.error("Abort: getAllKeys",a);l(d)&&d(b)};g.onerror=function(b){q.error("Error: getAllKeys",a);l(e)&&e(b)}}else i||(i=window.setTimeout(function(){j=!1;q.warn("DB action timeout");l(d)&&d({message:"DB action timeout"})},f.adelay)),j&&window.setTimeout(h,f.rdelay);return!0};h();return!0}catch(k){return r("IDBHelperAsync.getAllKeys",
k)}};J.prototype.getAll=function(a){try{var b=this.onsuccess,c=this.onabort,d=this.onerror,e=this,f=!0,j;delete this.onsuccess;delete this.onblocked;delete this.onabort;delete this.onerror;delete this.oncomplete;if(!this.available)return l(c)&&c({message:"Indexed DB is not available"}),!1;var i=function(){if(e.ready){j&&window.clearTimeout(j);var h=e.transaction(a),g,m=[];if(!h)return q.error("Error: transaction failure"),l(d)?d({message:"Transaction was undefined or null"}):!1;h=(g="getAll"in h)?
h.getAll():h.openCursor();h.onsuccess=function(a){a=a.target.result;!g&&a?(m.push(a.value),a["continue"]()):l(b)&&b(g?a:m)};h.onabort=function(b){q.error("Abort: getAll",a);l(c)&&c(b)};h.onerror=function(b){q.error("Error: getAll",a);l(d)&&d(b)}}else j||(j=window.setTimeout(function(){f=!1;q.warn("DB action timeout");l(c)&&c({message:"DB action timeout"})},e.adelay)),f&&window.setTimeout(i,e.rdelay);return!0};i();return!0}catch(h){return r("IDBHelperAsync.getAll",h)}};J.prototype.getItemSubset=function(a,
b,c){try{var d=this.onsuccess,e=this.onabort,f=this.onerror,j=this,i=!0,h;delete this.onsuccess;delete this.onblocked;delete this.onabort;delete this.onerror;delete this.oncomplete;if(!this.available)return l(e)&&e({message:"Indexed DB is not available"}),!1;var k=function(){if(j.ready){h&&window.clearTimeout(h);var g=j.transaction(a);if(!g)return q.error("Error: transaction failure"),l(f)?f({message:"Transaction was undefined or null"}):!1;g=g.get(b);g.onsuccess=function(a){var b={},e;for(e in c)c.hasOwnProperty(e)&&
(b[e]=a.target.result[e]);l(d)&&d(b)};g.onabort=function(a){q.error("Abort: getItemSubset",b);l(e)&&e(a)};g.onerror=function(a){q.error("Error: getItemSubset",b);l(f)&&f(a)}}else h||(h=window.setTimeout(function(){i=!1;q.warn("DB action timeout");l(e)&&e({message:"DB action timeout"})},j.adelay)),i&&window.setTimeout(k,j.rdelay);return!0};k();return!0}catch(g){return r("IDBHelperAsync.getItemSubset",g)}};J.prototype.getItem=function(a,b){try{var c=this.onsuccess,d=this.onabort,e=this.onerror,f=this,
j=!0,i;delete this.onsuccess;delete this.onblocked;delete this.onabort;delete this.onerror;delete this.oncomplete;if(!this.available)return l(d)&&d({message:"Indexed DB is not available"}),!1;var h=function(){if(f.ready){i&&window.clearTimeout(i);var g=f.transaction(a);if(!g)return q.error("Error: transaction failure"),l(e)?e({message:"Transaction was undefined or null"}):!1;g=g.get(b);g.onsuccess=function(a){l(c)&&c(a.target.result)};g.onabort=function(a){q.error("Abort: getItem",b);l(d)&&d(a)};
g.onerror=function(a){q.error("Error: getItem",b);l(e)&&e(a)}}else i||(i=window.setTimeout(function(){j=!1;q.warn("DB action timeout");l(d)&&d({message:"DB action timeout"})},f.adelay)),j&&window.setTimeout(h,f.rdelay);return!0};h();return!0}catch(k){return r("IDBHelperAsync.getItem",k)}};J.prototype.setItem=function(a,b){try{var c=this.onsuccess,d=this.onabort,e=this.onerror,f=this,j=!0,i;delete this.onsuccess;delete this.onblocked;delete this.onabort;delete this.onerror;delete this.oncomplete;if(!this.available)return l(d)&&
d({message:"Indexed DB is not available"}),!1;var h=function(){if(f.ready){i&&window.clearTimeout(i);var g=f.transaction(a,"READ_WRITE");if(!g)return q.error("Error: transaction failure"),l(e)?e({message:"Transaction was undefined or null"}):!1;g=g.put(b);g.onsuccess=function(a){l(c)&&c(a)};g.onabort=function(a){q.error("Abort: setItem",b);l(d)&&d(a)};g.onerror=function(a){q.error("Error: setItem",b);l(e)&&e(a)}}else i||(i=window.setTimeout(function(){j=!1;q.warn("DB action timeout");l(d)&&d({message:"DB action timeout"})},
f.adelay)),j&&window.setTimeout(h,f.rdelay);return!0};h();return!0}catch(k){return r("IDBHelperAsync.setItem",k)}};C.prototype.setAll=function(a){y(a)||r("VarsHelper.setAll",new TypeError(a+" is not a plain object"));this.vars=a;this.length=Y(this.vars);return this};C.prototype.getAll=da("vars");C.prototype.deleteAll=function(){this.vars={};this.length=0;return this};C.prototype.setItem=function(a,b){(!t(a)||!u(a))&&r("VarsHelper.setItem",new TypeError(a+" is an invalid identifier"));this.vars[a]=
b;this.length=Y(this.vars);return this.vars[a]};C.prototype.getItem=function(a,b){(!t(a)||!u(a))&&r("VarsHelper.getItem",new TypeError(a+" is an invalid identifier"));return a in this.vars?this.vars[a]:b};C.prototype.getList=function(a,b){(!t(a)||!u(a))&&r("VarsHelper.getList",new TypeError(a+" is an invalid identifier"));b=M(b,"");!t(b)&&u(b)&&r("VarsHelper.getList",new TypeError(b+" is an invalid value"));var c=this.getItem(a,b);!t(c)&&u(c)&&r("VarsHelper.getList",new TypeError(c+" is an invalid item"));
return c.toList()};C.prototype.deleteItem=function(a){(!t(a)||!u(a))&&r("VarsHelper.deleteItem",new TypeError(a+" is an invalid identifier"));delete this.vars[a];this.length=Y(this.vars);return this};C.prototype.incItem=function(a,b,c){(!t(a)||!u(a))&&r("VarsHelper.incItem",new TypeError(a+" is an invalid identifier"));b=M(b,1);(!D(b)||!u(b))&&r("VarsHelper.incItem",new TypeError(b+" is not a number"));c=a in this.vars?this.getItem(a,c):M(c,0);(!D(c)||!u(c))&&r("VarsHelper.incItem",new TypeError(a+
": "+c+" is not a number"));return this.setItem(a,c+b)};C.prototype.decItem=function(a,b,c){(!t(a)||!u(a))&&r("VarsHelper.decItem",new TypeError(a+" is an invalid identifier"));b=M(b,1);(!D(b)||!u(b))&&r("VarsHelper.decItem",new TypeError(b+" is not a number"));c=a in this.vars?this.getItem(a,c):M(c,0);(!D(c)||!u(c))&&r("VarsHelper.decItem",new TypeError(a+": "+c+" is not a number"));return this.setItem(a,c-b)};C.prototype.copyItem=function(a,b){(!t(a)||!u(a))&&r("VarsHelper.copyItem",new TypeError(a+
" is an invalid identifier"));var c=this.getItem(a,b);if(E(c))try{return JSON.copy(this.getItem(a,b))}catch(d){return r("VarsHelper.copyItem",new TypeError("Can not copy item "+a),d)}else return c};C.prototype.copyAll=function(){if(y(this.vars))try{return JSON.copy(this.vars)}catch(a){return r("VarsHelper.copyAll",new TypeError("Can not copy internal object"),a)}else return r("VarsHelper.copyAll",new TypeError("Invalid internal object"),this.vars)};H.swiss(C,"setAll","getAll","deleteAll","setItem",
"getItem","deleteItem","copyItem","copyAll");H.base=C.prototype;H.prototype._setItem=H.base.setItem;H.prototype.setItem=function(a,b,c){(!D(b)||b<0)&&r("ScheduleVarsHelper.setItem",new TypeError(b+" is an invalid number"));var d=Date.now();return H.base.setItem.call(this,a,{last:d,next:d+b*1E3+Math.floor(Math.random()*(!D(c)||c<0?0:c))*1E3})};H.prototype.check=function(a){a=H.base.getItem.call(this,a);return y(a)?a.next<Date.now():!0};H.prototype.since=function(a,b){var c;S(a)?(c=H.base.getItem.call(this,
a),c=y(c)?c.last:0):c=a;return c<Date.now()-1E3*b};w.prototype=new H(I);w.base=H.prototype;w.prototype.load=function(){w.base.setAll.call(this,this.storage.getItem(this.id,{}));(!y(w.base.getAll.call(this))||ea(w.base.getAll.call(this)))&&w.base.deleteAll.call(this);u(w.base.getItem.call(this,this.keyName))||(w.base._setItem.call(this,this.keyName,this[this.keyName]),this.save());return this};w.prototype.save=function(){this.storage.setItem(this.id,w.base.getAll.call(this));return this};w.prototype.erase=
function(){w.base.deleteAll.call(this);w.base.setItem.call(this,this.keyName,this[this.keyName]);this.save();return this};w.prototype.setAll=function(a){w.base.setAll.call(this,a);this.save();return this};w.prototype.setItem=function(a,b,c){a===this.keyName&&r("ScheduleStorageHelper.setItem",new TypeError(a+" is a reserved identifier"));a=w.base.setItem.call(this,a,b,c);this.save();return a};w.prototype.setKey=function(a){E(a)||r("ScheduleStorageHelper.setKey",new TypeError(a+" is 'undefined' or 'null'"));
Z(w.base.getItem.call(this,this.keyName),a)||(w.base._setItem.call(this,this.keyName,a),this.save());return this};w.prototype.getKey=function(){return w.base.getItem.call(this,this.keyName)};w.prototype.deleteItem=function(a){w.base.deleteItem.call(this,a);this.save();return this};v.prototype=new C(I);v.base=C.prototype;v.prototype.load=function(){v.base.setAll.call(this,this.storage.getItem(this.id,{}));(!y(v.base.getAll.call(this))||ea(v.base.getAll.call(this)))&&v.base.deleteAll.call(this);u(v.base.getItem.call(this,
this.keyName))||(v.base.setItem.call(this,this.keyName,this[this.keyName]),this.save());return this};v.prototype.save=function(){this.storage.setItem(this.id,v.base.getAll.call(this));return this};v.prototype.erase=function(){v.base.deleteAll.call(this);v.base.setItem.call(this,this.keyName,this[this.keyName]);this.save();return this};v.prototype.setAll=function(a){v.base.setAll.call(this,a);this.save();return this};v.prototype.setItem=function(a,b){a===this.keyName&&r("ConfigHelper.setItem",new TypeError(a+
" is a reserved identifier"));E(b)||r("ConfigHelper.setItem",new TypeError(b+" is 'undefined' or 'null'"));Z(v.base.getItem.call(this,a),b)||(v.base.setItem.call(this,a,b),this.save());return b};v.prototype.setKey=function(a){E(a)||r("ConfigHelper.setKey",new TypeError(a+" is 'undefined' or 'null'"));Z(this.getKey(),a)||(v.base.setItem.call(this,this.keyName,a),this.save());return this};v.prototype.getKey=function(){return v.base.getItem.call(this,this.keyName)};v.prototype.deleteItem=function(a){v.base.deleteItem.call(this,
a);this.save();return this};v.prototype.incItem=function(a,b,c){a=v.base.incItem.call(this,a,b,c);this.save();return a};v.prototype.decItem=function(a,b,c){a=v.base.decItem.call(this,a,b,c);this.save();return a};ya=function(a){for(var b=0,c=!1,d=n(a.length),e=document.createElement("input"),f={},b=0;b<d;b+=1){e.setAttribute("type",a[b]);if(c=e.type!=="text")e.value=":)",/^range$/.test(e.type)&&!A(e.style.WebkitAppearance)?(document.documentElement.appendChild(e),c=document.defaultView,c=c.getComputedStyle&&
c.getComputedStyle(e,G).WebkitAppearance!=="textfield"&&e.offsetHeight!==0,document.documentElement.removeChild(e)):c=/^(url|email)$/.test(e.type)?e.J&&e.J()===!1:e.value!==":)";f[a[b]]=!!c}return f}("search tel url email datetime date month week time datetime-local number range color".split(" "));"ucFirst"in String.prototype||(String.prototype.ucFirst=function(){return this.charAt(0).toUpperCase()+this.substr(1)});"ucWords"in String.prototype||(String.prototype.ucWords=function(){return this.replace(RegExp("^(.)|\\s(.)",
"g"),function(a){return a.toUpperCase()})});"stripHTML"in String.prototype||(String.prototype.stripHTML=function(){return this.replace(RegExp("<[^>]+>","g"),"").replace(/&nbsp;/g,"")});"stripHtmlJunk"in String.prototype||(String.prototype.stripHtmlJunk=function(){return this.replace(RegExp("\\&[^;]+;","g"),"")});"stripTRN"in String.prototype||(String.prototype.stripTRN=function(){return this.replace(/[\t\r\n]/g,"")});"uniConv"in String.prototype||(String.prototype.uniConv=function(){return this.replace(/\\u([0-9a-f]{4})/gmi,
function(a,b){return String.fromCharCode(parseInt(b,16))})});"unescapeDouble"in String.prototype||(String.prototype.unescapeDouble=function(){var a={t:"\t",n:"\n",r:"\r",f:"\u000c",b:"\u0008",'"':'"',"'":"'","/":"/"};return this.replace(RegExp("\\\\(.)","gm"),function(b,c){return a[c]})});"escapeHTML"in String.prototype||(String.prototype.escapeHTML=function(a){var b="";a===!0&&a?b=this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):(a=
document.createElement("div"),a.textContent=this,b=a.innerHTML);return b});"unescapeHTML"in String.prototype||(String.prototype.unescapeHTML=function(a){var b="";a===!0&&a?b=this.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'"):(a=document.createElement("div"),a.innerHTML=this,b=a.textContent);return b});String.whiteSpace={9:1,10:1,11:1,12:1,13:1,32:1,133:1,160:1,5760:1,6158:1,8192:1,8193:1,8194:1,8195:1,8196:1,8197:1,8198:1,8199:1,8200:1,
8201:1,8202:1,8203:1,8232:1,8233:1,8239:1,8287:1,12288:1,65279:1};String.whiteSpaceRX="\\u0009\\u000a\\u000b\\u000c\\u000d\\u0020\\u0085\\u00a0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u200b\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff";"outerTrim"in String.prototype||(String.prototype.outerTrim=function(a){var a=a?a:{},b="",c=0,d=n(this.length),e=d-1,f=0;if(e>-1)if(a.rx){if(a.list){b="";for(f=n(a.list.length)-1;f>=0;f-=1)b+="\\u"+a.list[f]}else b=String.whiteSpaceRX;
c=RegExp("^["+b+"]*");d=RegExp("["+b+"]*$");switch(a.end){case "left":b=this.replace(c,"");break;case "right":b=this.replace(d,"");break;default:b=this.replace(c,"").replace(d,"")}}else{if(a.list){b={};for(f=n(a.list.length)-1;f>=0;f-=1)b[parseInt(a.list[f],16)]=1}else b=String.whiteSpace;for(;b[this.charCodeAt(e)];)e-=1;e+=1;if(e)for(;b[this.charCodeAt(c)];)c+=1;switch(a.end){case "left":b=this.substring(c,d);break;case "right":b=this.substring(0,e);break;default:b=this.substring(c,e)}}return b});
"hasIndexOf"in String.prototype||(String.prototype.hasIndexOf=function(a){return this.indexOf(a)>=0?!0:!1});"trimLeft"in String.prototype||(String.prototype.trimLeft=function(a){a=a?a:{};a.end="left";return this.outerTrim(a)});"trimRight"in String.prototype||(String.prototype.trimRight=function(a){a=a?a:{};a.end="right";return this.outerTrim(a)});"innerTrim"in String.prototype||(String.prototype.innerTrim=function(a){a=a?a:{};a.end="both";delete a.list;a=this.outerTrim(a);return this.replace(a,a.replace(RegExp("["+
String.whiteSpaceRX+"]+","g")," "))});"trim"in String.prototype||(String.prototype.trim=String.prototype.outerTrim);"parseFloat"in String.prototype||(String.prototype.parseFloat=function(a){return a>=0?parseFloat(parseFloat(this).toFixed(a>=0&&a<=20?a:20)):parseFloat(this)});"parseInt"in String.prototype||(String.prototype.parseInt=function(a){return parseInt(this,a>=2&&a<=36?a:10)});"lpad"in String.prototype||(String.prototype.lpad=function(a,b){for(var c=this.toString();n(c.length)<b;)c=a+c;return c});
"rpad"in String.prototype||(String.prototype.rpad=function(a,b){for(var c=this.toString();n(c.length)<b;)c+=a;return c});"getUrlQuery"in String.prototype||(String.prototype.getUrlQuery=function(){var a=this.toString(),b,c=-1,c=a.indexOf("?");b=c>=0?c:-1;c=a.indexOf("&");b=c>=0&&(b<0||b>=0&&c<b)?c:b;c=a.indexOf("#");b=c>=0&&(b<0||b>=0&&c<b)?c:b;return a=b>=0?a.substr(b):""});"stripUrlQuery"in String.prototype||(String.prototype.stripUrlQuery=function(){var a=this.toString(),b=-1,b=a.indexOf("?"),a=
b>=0?a.substr(0,b):a,b=a.indexOf("&"),a=b>=0?a.substr(0,b):a,b=a.indexOf("#");return a=b>=0?a.substr(0,b):a});"basename"in String.prototype||(String.prototype.basename=function(a){var b=this.toString(),c=-1,b=b[n(b.length)-1]==="/"?b.substr(0,n(b.length)-1):b,c=b.stripUrlQuery().lastIndexOf("/"),b=c>=0?b.substr(c+1):b,c=E(a)&&!A(a.toString)?b.lastIndexOf(a.toString()):-1;return b=c>=0?b.substr(0,c):b});"dirname"in String.prototype||(String.prototype.dirname=function(){var a=this.toString(),b=-1,a=
a.stripUrlQuery(),b=a.lastIndexOf("/");return a=b>=0?a.substr(0,b+1):a});"fileext"in String.prototype||(String.prototype.fileext=function(){var a=this.toString(),b=-1,a=a.basename(),a=a.stripUrlQuery(),b=a.lastIndexOf(".");return a=b>=0?a.substr(b):""});"regex"in String.prototype||(String.prototype.regex=function(a){var b=this.match(a),c=0,d=0,e=G;if(b){a.global?/(^|[^\\]|[^\\](\\\\)*)\([^?]/.test(a.source)&&(e=RegExp(a.source,(a.ignoreCase?"i":"")+(a.multiline?"m":""))):b.shift();d=n(b.length);for(c=
d-1;c>=0;c-=1)b[c]&&(e?b[c]=String.prototype.regex.call(b[c],e):b[c].search(/^[\-+]?\d*\.?\d+(?:e[\-+]?\d+)?$/i)>=0&&(b[c]=parseFloat(b[c])))}return!e&&d===1?b[0]:b});"toList"in String.prototype||(String.prototype.toList=function(){for(var a=[],b=this.replace(/,/g,"\n").split("\n"),c=0,d=n(b.length),c=0;c<d;c+=1)b[c]!==""&&a.push(S(b[c])?b[c].trim():parseFloat(b[c]));return a});"Utf8encode"in String.prototype||(String.prototype.Utf8encode=function(){var a="",a=this.replace(/[\u0080-\u07ff]/g,function(a){a=
a.charCodeAt(0);return String.fromCharCode(192|a>>6,128|a&63)});return a=a.replace(/[\u0800-\uffff]/g,function(a){a=a.charCodeAt(0);return String.fromCharCode(224|a>>12,128|a>>6&63,128|a&63)})});"Utf8decode"in String.prototype||(String.prototype.Utf8decode=function(){var a="",a=this.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(a){return String.fromCharCode((a.charCodeAt(0)&15)<<12|(a.charCodeAt(1)&63)<<6|a.charCodeAt(2)&63)});return a=a.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,
function(a){return String.fromCharCode((a.charCodeAt(0)&31)<<6|a.charCodeAt(1)&63)})});"AESEncrypt"in String.prototype||(String.prototype.AESEncrypt=function(a,b,c){return(new B(a,b,c)).encrypt(this)});"AESDecrypt"in String.prototype||(String.prototype.AESDecrypt=function(a,b,c){return(new B(a,b,c)).decrypt(this)});"Base64encode"in String.prototype||(String.prototype.Base64encode=function(a){var b,c,d,e=0,f=0,j=e="",i=[],h="",f=String.fromCharCode(0),j=(a=A(a)?!1:a)?this.Utf8encode():this,e=n(j.length)%
3;if(e>0)for(;e<3;)h+="=",j+=f,e+=1;f=n(j.length);for(e=0;e<f;e+=3)a=j.charCodeAt(e),b=j.charCodeAt(e+1),c=j.charCodeAt(e+2),d=a<<16|b<<8|c,a=d>>18&63,b=d>>12&63,c=d>>6&63,d&=63,i[e/3]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d);e=i.join("");
return e=e.slice(0,n(e.length)-n(h.length))+h});"Base64decode"in String.prototype||(String.prototype.Base64decode=function(a){for(var b,c,d,e,f,j=[],i=e="",h=0,k=0,i=(a=A(a)?!1:a)?this.Utf8decode():this,k=n(i.length),h=0;h<k;h+=4)b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i.charAt(h)),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i.charAt(h+1)),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i.charAt(h+
2)),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i.charAt(h+3)),d=b<<18|c<<12|e<<6|f,b=d>>>16&255,c=d>>>8&255,d&=255,j[h/4]=String.fromCharCode(b,c,d),f===64&&(j[h/4]=String.fromCharCode(b,c)),e===64&&(j[h/4]=String.fromCharCode(b));e=j.join("");return a?e.Utf8decode():e});"MD5"in String.prototype||(String.prototype.MD5=function(a){function b(a,b){var c=a&1073741824,d=b&1073741824,e=a&2147483648,f=b&2147483648,h=(a&1073741823)+(b&1073741823);return c&d?h^2147483648^
e^f:c|d?h&1073741824?h^3221225472^e^f:h^1073741824^e^f:h^e^f}function c(a,c,d,e,f,h,g){a=b(a,b(b(c&d|~c&e,f),g));return b(a.ROTL(h),c)}function d(a,c,d,e,f,h,g){a=b(a,b(b(c&e|d&~e,f),g));return b(a.ROTL(h),c)}function e(a,c,d,e,f,h,g){a=b(a,b(b(c^d^e,f),g));return b(a.ROTL(h),c)}function f(a,c,d,e,f,h,g){a=b(a,b(b(d^(c|~e),f),g));return b(a.ROTL(h),c)}function j(a){for(var b="",c="",d=c=0,d=0;d<=3;d+=1)c=a>>>d*8&255,c="0"+c.toString(16),b+=c.substr(n(c.length)-2,2);return b}for(var i=[],h=1732584193,
k=4023233417,g=2562383102,m=271733878,o=0,l=0,p=0,r=0,q=0,s=0,i="",i=(a=A(a)?!0:a)?this.Utf8encode():this,i=function(a){for(var b=0,c=n(a.length),b=c+8,d=((b-b%64)/64+1)*16,e=[],f=0,h=0;h<c;)b=(h-h%4)/4,f=h%4*8,e[b]|=a.charCodeAt(h)<<f,h+=1;e[(h-h%4)/4]|=128<<h%4*8;e[d-2]=c<<3;e[d-1]=c>>>29;return e}(i),o=0,l=n(i.length);o<l;o+=16)p=h,r=k,q=g,s=m,h=c(h,k,g,m,i[o+0],7,3614090360),m=c(m,h,k,g,i[o+1],12,3905402710),g=c(g,m,h,k,i[o+2],17,606105819),k=c(k,g,m,h,i[o+3],22,3250441966),h=c(h,k,g,m,i[o+4],
7,4118548399),m=c(m,h,k,g,i[o+5],12,1200080426),g=c(g,m,h,k,i[o+6],17,2821735955),k=c(k,g,m,h,i[o+7],22,4249261313),h=c(h,k,g,m,i[o+8],7,1770035416),m=c(m,h,k,g,i[o+9],12,2336552879),g=c(g,m,h,k,i[o+10],17,4294925233),k=c(k,g,m,h,i[o+11],22,2304563134),h=c(h,k,g,m,i[o+12],7,1804603682),m=c(m,h,k,g,i[o+13],12,4254626195),g=c(g,m,h,k,i[o+14],17,2792965006),k=c(k,g,m,h,i[o+15],22,1236535329),h=d(h,k,g,m,i[o+1],5,4129170786),m=d(m,h,k,g,i[o+6],9,3225465664),g=d(g,m,h,k,i[o+11],14,643717713),k=d(k,g,m,
h,i[o+0],20,3921069994),h=d(h,k,g,m,i[o+5],5,3593408605),m=d(m,h,k,g,i[o+10],9,38016083),g=d(g,m,h,k,i[o+15],14,3634488961),k=d(k,g,m,h,i[o+4],20,3889429448),h=d(h,k,g,m,i[o+9],5,568446438),m=d(m,h,k,g,i[o+14],9,3275163606),g=d(g,m,h,k,i[o+3],14,4107603335),k=d(k,g,m,h,i[o+8],20,1163531501),h=d(h,k,g,m,i[o+13],5,2850285829),m=d(m,h,k,g,i[o+2],9,4243563512),g=d(g,m,h,k,i[o+7],14,1735328473),k=d(k,g,m,h,i[o+12],20,2368359562),h=e(h,k,g,m,i[o+5],4,4294588738),m=e(m,h,k,g,i[o+8],11,2272392833),g=e(g,
m,h,k,i[o+11],16,1839030562),k=e(k,g,m,h,i[o+14],23,4259657740),h=e(h,k,g,m,i[o+1],4,2763975236),m=e(m,h,k,g,i[o+4],11,1272893353),g=e(g,m,h,k,i[o+7],16,4139469664),k=e(k,g,m,h,i[o+10],23,3200236656),h=e(h,k,g,m,i[o+13],4,681279174),m=e(m,h,k,g,i[o+0],11,3936430074),g=e(g,m,h,k,i[o+3],16,3572445317),k=e(k,g,m,h,i[o+6],23,76029189),h=e(h,k,g,m,i[o+9],4,3654602809),m=e(m,h,k,g,i[o+12],11,3873151461),g=e(g,m,h,k,i[o+15],16,530742520),k=e(k,g,m,h,i[o+2],23,3299628645),h=f(h,k,g,m,i[o+0],6,4096336452),
m=f(m,h,k,g,i[o+7],10,1126891415),g=f(g,m,h,k,i[o+14],15,2878612391),k=f(k,g,m,h,i[o+5],21,4237533241),h=f(h,k,g,m,i[o+12],6,1700485571),m=f(m,h,k,g,i[o+3],10,2399980690),g=f(g,m,h,k,i[o+10],15,4293915773),k=f(k,g,m,h,i[o+1],21,2240044497),h=f(h,k,g,m,i[o+8],6,1873313359),m=f(m,h,k,g,i[o+15],10,4264355552),g=f(g,m,h,k,i[o+6],15,2734768916),k=f(k,g,m,h,i[o+13],21,1309151649),h=f(h,k,g,m,i[o+4],6,4149444226),m=f(m,h,k,g,i[o+11],10,3174756917),g=f(g,m,h,k,i[o+2],15,718787259),k=f(k,g,m,h,i[o+9],21,3951481745),
h=b(h,p),k=b(k,r),g=b(g,q),m=b(m,s);return j(h)+j(k)+j(g)+j(m)});"SHA1"in String.prototype||(String.prototype.SHA1=function(a){for(var b=0,c=0,b=0,d=[80],e=1732584193,f=4023233417,j=2562383102,i=271733878,h=3285377520,k=G,g=G,m=G,o=G,l=G,p=G,k="",r=g=0,q=[],k=(a=A(a)?!0:a)?this.Utf8encode():this,g=n(k.length),c=0;c<g-3;c+=4)b=k.charCodeAt(c)<<24|k.charCodeAt(c+1)<<16|k.charCodeAt(c+2)<<8|k.charCodeAt(c+3),q.push(b);switch(g%4){case 0:c=2147483648;break;case 1:c=k.charCodeAt(g-1)<<24|8388608;break;
case 2:c=k.charCodeAt(g-2)<<24|k.charCodeAt(g-1)<<16|32768;break;case 3:c=k.charCodeAt(g-3)<<24|k.charCodeAt(g-2)<<16|k.charCodeAt(g-1)<<8|128}for(q.push(c);n(q.length)%16!==14;)q.push(0);q.push(g>>>29);q.push(g<<3&4294967295);b=0;for(r=n(q.length);b<r;b+=16){for(c=0;c<16;c+=1)d[c]=q[b+c];for(c=16;c<=79;c+=1)d[c]=(d[c-3]^d[c-8]^d[c-14]^d[c-16]).ROTL(1);k=e;g=f;m=j;o=i;l=h;for(c=0;c<=19;c+=1)p=k.ROTL(5)+(g&m|~g&o)+l+d[c]+1518500249&4294967295,l=o,o=m,m=g.ROTL(30),g=k,k=p;for(c=20;c<=39;c+=1)p=k.ROTL(5)+
(g^m^o)+l+d[c]+1859775393&4294967295,l=o,o=m,m=g.ROTL(30),g=k,k=p;for(c=40;c<=59;c+=1)p=k.ROTL(5)+(g&m|g&o|m&o)+l+d[c]+2400959708&4294967295,l=o,o=m,m=g.ROTL(30),g=k,k=p;for(c=60;c<=79;c+=1)p=k.ROTL(5)+(g^m^o)+l+d[c]+3395469782&4294967295,l=o,o=m,m=g.ROTL(30),g=k,k=p;e=e+k&4294967295;f=f+g&4294967295;j=j+m&4294967295;i=i+o&4294967295;h=h+l&4294967295}p=e.toHexStr()+f.toHexStr()+j.toHexStr()+i.toHexStr()+h.toHexStr();return p.toLowerCase()});"SHA256"in String.prototype||(String.prototype.SHA256=function(a){var b=
[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,
275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],d="",e=0,e=0,f=[],j=0,i=0,d=[],h=i=0,k=0,g=0,m=0,l=0,p=0,r=0,q=0,s,d=(a=A(a)?!0:a)?this.Utf8encode():this;d+=String.fromCharCode(128);e=n(d.length)/4+2;e=Math.ceil(e/16);f=[];for(j=0;j<e;j+=1){f[j]=[];for(i=0;i<16;i+=1)f[j][i]=d.charCodeAt(j*
64+i*4)<<24|d.charCodeAt(j*64+i*4+1)<<16|d.charCodeAt(j*64+i*4+2)<<8|d.charCodeAt(j*64+i*4+3)}f[e-1][14]=(n(d.length)-1)*8/Math.pow(2,32);f[e-1][14]=Math.floor(f[e-1][14]);f[e-1][15]=(n(d.length)-1)*8&4294967295;d=[];for(j=0;j<e;j+=1){for(i=0;i<16;i+=1)d[i]=f[j][i];for(i=16;i<64;i+=1)d[i]=(Number(17).ROTR(d[i-2])^Number(19).ROTR(d[i-2])^d[i-2]>>>10)+d[i-7]+(Number(7).ROTR(d[i-15])^Number(18).ROTR(d[i-15])^d[i-15]>>>3)+d[i-16]&4294967295;h=c[0];k=c[1];g=c[2];m=c[3];l=c[4];p=c[5];r=c[6];q=c[7];for(i=
0;i<64;i+=1)a=q+(Number(6).ROTR(l)^Number(11).ROTR(l)^Number(25).ROTR(l))+(l&p^~l&r)+b[i]+d[i],s=(Number(2).ROTR(h)^Number(13).ROTR(h)^Number(22).ROTR(h))+(h&k^h&g^k&g),q=r,r=p,p=l,l=m+a&4294967295,m=g,g=k,k=h,h=a+s&4294967295;c[0]=c[0]+h&4294967295;c[1]=c[1]+k&4294967295;c[2]=c[2]+g&4294967295;c[3]=c[3]+m&4294967295;c[4]=c[4]+l&4294967295;c[5]=c[5]+p&4294967295;c[6]=c[6]+r&4294967295;c[7]=c[7]+q&4294967295}return c[0].toHexStr()+c[1].toHexStr()+c[2].toHexStr()+c[3].toHexStr()+c[4].toHexStr()+c[5].toHexStr()+
c[6].toHexStr()+c[7].toHexStr()});"lpad"in Number.prototype||(Number.prototype.lpad=function(a,b){return this.toString().lpad(a,b)});"rpad"in Number.prototype||(Number.prototype.rpad=function(a,b){return this.toString().rpad(a,b)});"dp"in Number.prototype||(Number.prototype.dp=function(a){return parseFloat(this.toFixed(a>=0&&a<=20?a:0))});"toHexStr"in Number.prototype||(Number.prototype.toHexStr=function(){for(var a="",b=0,c=0,c=7;c>=0;c-=1)b=this>>>c*4&15,a+=b.toString(16);return a});"ROTL"in Number.prototype||
(Number.prototype.ROTL=function(a){return this<<a|this>>>32-a});"ROTR"in Number.prototype||(Number.prototype.ROTR=function(a){return a>>>this|a<<32-this});"isInt"in Number.prototype||(Number.prototype.isInt=function(){var a=parseInt(this,10);return S(a)?!1:this===a&&this.toString()===a.toString()});"SI"in Number.prototype||(Number.prototype.SI=function(a){var a=a>=0&&a<=20?a:1,b=Math.abs(this);return b>=1E12?(this/1E12).toFixed(a)+"T":b>=1E9?(this/1E9).toFixed(a)+"B":b>=1E6?(this/1E6).toFixed(a)+
"M":b>=1E3?(this/1E3).toFixed(a)+"k":this});"addCommas"in Number.prototype||(Number.prototype.addCommas=function(a){var a=D(a)?this.toFixed(a):this.toString(),b=a.indexOf("."),c="",d=/(\d+)(\d{3})/;b!==-1&&(c="."+a.substring(b+1,n(a.length)),a=a.substring(0,b));for(;d.test(a);)a=a.replace(d,"$1,$2");return a+c});"now"in Date||(Date.now=function(){return+new Date});"toISOString"in Date.prototype||(Date.prototype.toISOString=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+(this.getUTCMonth()+
1).lpad("0",2)+"-"+this.getUTCDate().lpad("0",2)+"T"+this.getUTCHours().lpad("0",2)+":"+this.getUTCMinutes().lpad("0",2)+":"+this.getUTCSeconds().lpad("0",2)+"."+this.getUTCMilliseconds().lpad("0",2)+"Z":G});Date.replaceChars={shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday",
"Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d:function(){return this.getDate().lpad("0",2)},D:function(){return Date.replaceChars.shortDays[this.getDay()]},j:function(){return this.getDate()},l:function(){return Date.replaceChars.longDays[this.getDay()]},N:function(){return this.getDay()+1},S:function(){return this.getDate()%10===1&&this.getDate()!==11?"st":this.getDate()%10===2&&this.getDate()!==12?"nd":this.getDate()%10===3&&this.getDate()!==13?"rd":"th"},w:function(){return this.getDay()},
z:R("Not Yet Supported"),W:R("Not Yet Supported"),F:function(){return Date.replaceChars.longMonths[this.getMonth()]},m:function(){return(this.getMonth()+1).lpad("0",2)},M:function(){return Date.replaceChars.shortMonths[this.getMonth()]},n:function(){return this.getMonth()+1},t:R("Not Yet Supported"),L:function(){return this.getFullYear()%4===0&&this.getFullYear()%100!==0||this.getFullYear()%400===0?"1":"0"},o:R("Not Supported"),Y:function(){return this.getFullYear()},y:function(){return(""+this.getFullYear()).substr(2)},
a:function(){return this.getHours()<12?"am":"pm"},A:function(){return this.getHours()<12?"AM":"PM"},B:R("Not Yet Supported"),g:function(){return this.getHours()%12||12},G:function(){return this.getHours()},h:function(){return(this.getHours()%12||12).lpad("0",2)},H:function(){return this.getHours().lpad("0",2)},i:function(){return this.getMinutes().lpad("0",2)},s:function(){return this.getSeconds().lpad("0",2)},e:R("Not Yet Supported"),I:R("Not Supported"),O:function(){return(-this.getTimezoneOffset()<
0?"-":"+")+Math.abs(this.getTimezoneOffset()/60).lpad("0",2)+"00"},P:function(){return(-this.getTimezoneOffset()<0?"-":"+")+Math.abs(this.getTimezoneOffset()/60).lpad("0",2)+":"+Math.abs(this.getTimezoneOffset()%60).lpad("0",2)},T:function(){var a=this.getMonth(),b="";this.setMonth(0);b=this.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,"$1");this.setMonth(a);return b},Z:function(){return-this.getTimezoneOffset()*60},c:function(){return this.format("Y-m-d")+"T"+this.format("H:i:sP")},r:function(){return this.toString()},
U:function(){return this.getTime()/1E3}};"format"in Date.prototype||(Date.prototype.format=function(a){for(var b=0,c=0,d="",e="",f=Date.replaceChars,b=0,c=n(a.length);b<c;b+=1)d=a.charAt(b),e+=f[d]?f[d].call(this):d;return e});"hasIndexOf"in Array.prototype||(Array.prototype.hasIndexOf=String.prototype.hasIndexOf);"sortNum"in Array.prototype||(Array.prototype.sortNum=function(){return this.sort(function(a,b){return a-b})});"shuffle"in Array.prototype||(Array.prototype.shuffle=function(){for(var a=
0,b=0,c,b=n(this.length);b>0;b-=1)a=parseInt(Math.random()*b,10),b-=1,c=this[b],this[b]=this[a],this[a]=c});"compare"in Array.prototype||(Array.prototype.compare=function(a){var b=0,c=n(a.length);if(n(this.length)!==c)return!1;for(b=0;b<c;b+=1){if(this[b].compare&&!this[b].compare(a[b]))return!1;if(this[b]!==a[b])return!1}return!0});"find"in Array.prototype||(Array.prototype.find=function(a){for(var b=!1,c=0,d=n(this.length),c=0;c<d;c+=1)l(a)?a.test(this[c])&&(b||(b=[]),b.push(c)):this[c]===a&&(b||
(b=[]),b.push(c));return b});"unique"in Array.prototype||(Array.prototype.unique=function(){for(var a={},b=0,c=n(this.length),d=[],b=0;b<c;b+=1)a[this[b]]=this[b];for(b in a)a.hasOwnProperty(b)&&d.push(a[b]);return d});"indexOf"in Array.prototype||(Array.prototype.indexOf=function(a){var b=Object(this),c=n(b.length)>>>0,d=0,e=0;if(c===0)return-1;n(arguments.length)>0&&(d=Number(arguments[1]),d!==d?d=0:d!==0&&d!==Infinity&&d!==-Infinity&&(d=(d>0||-1)*Math.floor(Math.abs(d))));if(d>=c)return-1;for(e=
d>=0?d:Math.max(c-Math.abs(d),0);e<c;e+=1)if(e in b&&b[e]===a)return e;return-1});"lastIndexOf"in Array.prototype||(Array.prototype.lastIndexOf=function(a){var b=Object(this),c=n(b.length)>>>0,d=c,e=0;if(c===0)return-1;n(arguments.length)>0&&(d=Number(arguments[1]),d!==d?d=0:d!==0&&d!==Infinity&&d!==-Infinity&&(d=(d>0||-1)*Math.floor(Math.abs(d))));for(e=d>=0?Math.min(d,c-1):c-Math.abs(d);e>=0;)if(e in b&&b[e]===a)return e;return-1});"shift"in Array.prototype||(Array.prototype.shift=function(){var a=
this[0];this.reverse();this.length=Math.max(n(this.length)-1,0);this.reverse();return a});"unshift"in Array.prototype||(Array.prototype.unshift=function(){this.reverse();for(var a=n(arguments.length)-1;a>=0;a-=1)this[n(this.length)]=arguments[a];this.reverse();return n(this.length)});"filter"in Array.prototype||(Array.prototype.filter=function(a,b){T(a);for(var c=n(this.length),d=[],e=0,f,e=0;e<c;e+=1)e in this&&(f=this[e],a.call(b,f,e,this)&&d.push(f));return d});"forEach"in Array.prototype||(Array.prototype.forEach=
function(a,b){T(a);for(var c=n(this.length),d=0,d=0;d<c;d+=1)d in this&&a.call(b,this[d],d,this)});"map"in Array.prototype||(Array.prototype.map=function(a,b){T(a);for(var c=n(this.length),d=[],e=0,e=0;e<c;e+=1)e in this&&(d[e]=a.call(b,this[e],e,this));return d});"some"in Array.prototype||(Array.prototype.some=function(a,b){T(a);for(var c=n(this.length),d=0,d=0;d<c;d+=1)if(d in this&&a.call(b,this[d],d,this))return!0;return!1});"every"in Array.prototype||(Array.prototype.every=function(a,b){T(a);
for(var c=n(this.length),d=0,e=Object(this),d=0;d<c;d+=1)if(d in e&&!a.call(b,e[d],d,e))return!1;return!0});"removeByValue"in Array.prototype||(Array.prototype.removeByValue=function(a){if(this.R(a))for(var b=n(this.length)-1;b>=0;b-=1)this[b]===a&&this.splice(b,1);return this});"removeFirstValue"in Array.prototype||(Array.prototype.removeFirstValue=function(a){a=this.indexOf(a);a>=0&&this.splice(a,1);return this});"removeLastValue"in Array.prototype||(Array.prototype.removeLastValue=function(a){a=
this.lastIndexOf(a);a>=0&&this.splice(a,1);return this});"toJSON"in Date.prototype||(Date.prototype.toJSON=Date.prototype.toISOString);"toJSON"in String.prototype||(String.prototype.toJSON=function(){return this.valueOf()});"toJSON"in Number.prototype||(Number.prototype.toJSON=function(){return isFinite(this)?this.valueOf():G});"toJSON"in Boolean.prototype||(Boolean.prototype.toJSON=function(){return this.valueOf()});aa.stringify=function(a,b,c){var d;ja=K="";if(D(c))for(d=0;d<c;d+=1)ja+=" ";else t(c)&&
(ja=c);N=b;E(b)&&(!l(b)||!F(b))&&r("JSON2.stringify",new TypeError(b+" is not a function or array'"));return ia("",{"":a})};aa.parse=function(a,b){function c(a,d){var e,f,g=a[d];if(L(g))for(e in g)Object.hasOwnProperty.call(g,e)&&(f=c(g,e),A(f)?delete g[e]:g[e]=f);return b.call(a,d,g)}var d;d=RegExp('\\\\(?:["\\\\\\/bfnrt]|u[0-9a-fA-F]{4})',"g");var e=RegExp('"[^"\\\\\\n\\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?',"g"),f=RegExp("(?:^|:|,)(?:\\s*\\[)+","g"),a=String(a);ta.lastIndex=
0;ta.test(a)&&(a=a.replace(ta,function(a){return'", "\\u'+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));return/^[\],:{}\s]*$/.test(a.replace(d,"@").replace(e,"]").replace(f,""))?(d=eval("("+a+")"),l(b)?c({"":d},""):d):r("JSON2.parse",new SyntaxError("text is not JSON parseable"))};"JSON"in window||(window.JSON=aa);"copy"in window.JSON||(window.JSON.copy=function(a){return JSON.parse(JSON.stringify(a))});(function(a){JSON.hpack=function(b,c){try{var d=0,e=[],f=0,j=0,i=0,h=0,k=[],g=0,m=0,l,p,q,
s,t;if(3<c)d=JSON.hbest(b),t=a[d],a=[];else{t=[e];s=b[0];for(q in s)s.hasOwnProperty(q)&&(e[f]=q,f+=1);h=f;d=f=0;for(i=n(b.length);d<i;d+=1){p=b[d];k=[];for(g=0;g<h;g+=1)k[g]=p[e[g]];f+=1;t[f]=k}f+=1;if(0<c){k=t[1];for(g=0;g<h;g+=1)if(!D(k[g])){s=[];e[g]=[e[g],s];for(d=1;d<f;d+=1)l=t[d][g],m=s.indexOf(l),t[d][g]=m<0?s.push(l)-1:m}}if(2<c)for(g=0;g<h;g+=1){if(F(e[g])){k=e[g][1];l=[];s=[];j=0;for(d=1;d<f;d+=1)s[j]=t[d][g],l[j]=k[s[j]],j+=1;if(n(JSON.stringify(l).length)<n(JSON.stringify(s.concat(k)).length)){j=
0;for(d=1;d<f;d+=1)t[d][g]=l[j],j+=1;e[g]=e[g][0]}}}else if(1<c){i-=Math.floor(i/2);for(g=0;g<h;g+=1)if(F(e[g])&&(s=e[g][1],i<n(s.length))){for(d=1;d<f;d+=1)l=t[d][g],t[d][g]=s[l];e[g]=e[g][0]}}if(0<c)for(g=0;g<h;g+=1)F(e[g])&&(e.splice(g,1,e[g][0],e[g][1]),h+=1,g+=1)}return t}catch(u){return r("JSON.hpack",u)}};JSON.hunpack=function(a){try{for(var c=[],d=[],e=a[0],f=n(e.length),j=n(a.length),i=-1,h=-1,k=0,g=0,l,o,p,k=0;k<f;k+=1){h+=1;d[h]=e[k];if(F(e[k+1])){k+=1;for(l=1;l<j;l+=1)o=a[l],o[g]=e[k][o[g]]}g+=
1}k=0;for(f=n(d.length);k<f;k+=1)d[k]='o["'.concat(d[k].replace('"',"\\x22"),'"]=a[',k,"];");p=new Function("o,a",d.join("")+"return o;");for(l=1;l<j;l+=1)i+=1,c[i]=p({},a[l]);return c}catch(q){return r("JSON.hunpack",q)}};JSON.hclone=function(a){try{for(var c=[],d=0,e=n(a.length),d=0;d<e;d+=1)c[d]=a[d].slice(0);return c}catch(f){return r("JSON.hclone",f)}};JSON.hbest=function(b){try{for(var c=0,d=0,e=0,f=0,c=0;c<4;c+=1)a[c]=JSON.hpack(b,c),e=n(JSON.stringify(a[c]).length),f===0?f=e:e<f&&(f=e,d=c);
return d}catch(j){return r("JSON.hbest",j)}}})([]);"toRISON"in Date.prototype||(Date.prototype.toRISON=Date.prototype.toJSON);"toRISON"in String.prototype||(String.prototype.toRISON=String.prototype.toJSON);"toRISON"in Number.prototype||(Number.prototype.toRISON=Number.prototype.toJSON);"toRISON"in Boolean.prototype||(Boolean.prototype.toRISON=Boolean.prototype.toJSON);s.encode=s.stringify=function(a,b){N=b;E(b)&&(!l(b)||!F(b))&&r("RISON.stringify",new TypeError(b+" is not a function or array'"));
return X("",{"":a})};s.parse=function(a,b){function c(a,d){var j,i,h=a[d];if(L(h))for(j in h)Object.hasOwnProperty.call(h,j)&&(i=c(h,j),A(i)?delete h[j]:h[j]=i);return b.call(a,d,h)}var d=s.decode(a);return!A(d)?l(b)?c({"":d},""):d:r("RISON.parse",new SyntaxError("text is not RISON parseable"))};s.not_idstart="-0123456789";s.uri_ok={"~":!0,"!":!0,"*":!0,"(":!0,")":!0,"-":!0,_:!0,".":!0,",":!0,":":!0,"@":!0,$:!0,"'":!0,"/":!0};s.quote=function(a){return/^[\-A-Za-z0-9~!*()_.',:@$\/]*$/.test(a)?a:encodeURIComponent(a).replace("%2C",
",","g").replace("%3A",":","g").replace("%40","@","g").replace("%24","$","g").replace("%2F","/","g").replace("%20","+","g")};s.encode_object=function(a){y(a)||r("RISON.encode_object",Error("expects an object argument"),a);a=X("",{"":a});return a.substring(1,n(a.length)-1)};s.encode_array=function(a){F(a)||r("RISON.encode_array",Error("expects an array argument"),a);a=X("",{"":a});return a.substring(2,n(a.length)-1)};s.encode_uri=function(a){return s.quote(X("",{"":a}))};s.decode=function(a){return(new s.parser(function(a){r("RISON.decode",
a)})).parse(a)};s.decode_object=function(a){return s.decode("("+a+")")};s.decode_array=function(a){return s.decode("!("+a+")")};(function(){for(var a=[],b=0,c=0,d="",b=0;b<16;b+=1)for(c=0;c<16;c+=1)b+c!==0&&(d=String.fromCharCode(b*16+c),/\w|[\-_.\/~]/.test(d)||a.push("\\u00"+b.toString(16)+c.toString(16)));s.not_idchar=a.join("")})();s.not_idchar=" '!:(),*@$";(function(){var a="[^"+s.not_idstart.replace("-","\\-")+s.not_idchar+"][^"+s.not_idchar+"]*";s.id_ok=RegExp("^"+a+"$");s.next_id=RegExp(a,
"g")})();s.parser=function(a){this.errorHandler=a};s.parser.WHITESPACE="";s.parser.prototype.setOptions=function(a){a.errorHandler&&(this.errorHandler=a.errorHandler)};s.parser.prototype.parse=function(a){this.string=a;this.index=0;this.message=G;var b=this.readValue();!this.message&&this.next()&&(b=this.error("unable to parse string as RISON: '"+s.encode(a)+"'"));this.message&&this.errorHandler&&this.errorHandler(this.message,this.index);return b};s.parser.prototype.error=function(a){this.message=
a;return r("RISON.parser",Error(a))};s.parser.prototype.readValue=function(){var a=this.next(),b=a&&this.table[a],c;if(b)return b.apply(this);c=this.string;b=this.index-1;s.next_id.lastIndex=b;c=s.next_id.exec(c);return n(c.length)>0?(a=c[0],this.index=b+n(a.length),a):a?this.error("invalid character: '"+a+"'"):this.error("empty expression")};s.parser.parse_array=function(a){for(var b=[],c;(c=a.next())!==")";){if(!c)return a.error("unmatched '!('");if(n(b.length))c!==","&&a.error("missing ','");else if(c===
",")return a.error("extra ','");else a.index-=1;c=a.readValue();if(A(c))return;b.push(c)}return b};s.parser.bangs={t:!0,f:!1,n:G,"(":s.parser.parse_array};s.parser.prototype.table={"!":function(){var a=this.string.charAt(this.index),b;this.index+=1;if(!a)return this.error('"!" at end of input');b=s.parser.bangs[a];if(l(b))return b.call(G,this);else if(A(b))return this.error('unknown literal: "!'+a+'"');return b},"(":function(){for(var a={},b,c=0,d;(b=this.next())!==")";){if(c)b!==","&&this.error("missing ','");
else if(b===",")return this.error("extra ','");else this.index-=1;b=this.readValue();if(A(b))return;if(this.next()!==":")return this.error("missing ':'");d=this.readValue();if(A(d))return;a[b]=d;c+=1}return a},"'":function(){var a=this.string,b=this.index,c=b,d=[],e=a.charAt(b);for(b+=1;e!=="'";){if(!e)return this.error('unmatched "\'"');if(e==="!"){c<b-1&&d.push(a.slice(c,b-1));e=a.charAt(b);b+=1;if("!'".indexOf(e)>=0)d.push(e);else return this.error('invalid string escape: "!'+e+'"');c=b}e=a.charAt(b);
b+=1}c<b-1&&d.push(a.slice(c,b-1));this.index=b;return n(d.length)===1?d[0]:d.join("")},"-":function(){var a=this.string,b=this.index,c=b-1,d="int",e="-",f={"int+.":"frac","int+e":"exp","frac+e":"exp"},j;do{j=a.charAt(b);b+=1;if(!j)break;"0"<=j&&j<="9"||(e.indexOf(j)>=0?e="":(d=f[d+"+"+j.toLowerCase()],d==="exp"&&(e="-")))}while(d);b-=1;this.index=b;a=a.slice(c,b);return a==="-"?this.error("invalid number"):Number(a)}};(function(a){for(var b=0,b=0;b<=9;b+=1)a[String(b)]=a["-"]})(s.parser.prototype.table);
s.parser.prototype.next=function(){var a=this.string,b=this.index,c;do{if(b===n(a.length))return;c=a.charAt(b);b+=1}while(s.parser.WHITESPACE.indexOf(c)>=0);this.index=b;return c};"RISON"in window||(window.RISON=s);aa="chrome"in window&&window.navigator.userAgent.toLowerCase().hasIndexOf("chrome");ka=window.navigator.userAgent.toLowerCase().hasIndexOf("firefox");q=new $({log_version:"0.2.3",log_level:1});p.version="0.2.3";p.noConflict=function(a){window.$u===p&&(window.$u=Ba);a&&window.utility===
p&&(window.utility=Aa);return p};p.is_chrome=aa;p.is_firefox=ka;p.is_opera="opera"in window;p.plural=function(a){return a===1||a===-1?"":"s"};p.injectScript=function(a,b,c){var b=b||!1,c=c||!1,d=document.createElement("script");d.setAttribute("type","text/javascript");b?d.textContent=a:d.setAttribute("src",a);return c?document.body.appendChild(d):(document.V||document.getElementsByTagName("head")[0]||document.documentElement).appendChild(d)};p.sortBy=function(a,b,c){return function(d,e){if(y(d)&&
y(e)&&d&&e){var f=d[b],j=e[b];return f===j?l(c)?c(d,e):d:z(f)===z(j)?a?f<j?1:-1:f<j?-1:1:a?z(f)<z(j)?1:-1:z(f)<z(j)?-1:1}else return r("sortBy",new TypeError("Expected an object when sorting by "+b))}};p.sortObjectBy=wa;p.makeTime=function(a,b){return(new Date(a)).format(b!==void 0&&b?b:"l g:i a")};p.minutes2hours=function(a){var a=S(a)?0:a,a=t(a)?a.parseFloat():a,b=Math.floor(a);return b+":"+Math.floor((a-b)*60).lpad("0",2)};p.reload=function(){"reload"in window.location?window.location.reload():
"history"in window&&"go"in window.history?window.history.go(0):window.location.href=window.location.href};p.class2type=ua;p.type=z;p.isWindow=va;p.isNaN=S;p.isArray=F;p.isObject=L;p.isBoolean=ba;p.isFunction=l;p.isDate=function(a){return z(a)==="date"};p.isRegExp=function(a){return z(a)==="regexp"};p.isNumber=D;p.isString=t;p.isUndefined=A;p.isNull=la;p.isDefined=E;p.isPlainObject=y;p.isEmptyObject=ea;p.lengthOf=Y;p.compare=Z;p.hasContent=u;p.setContent=M;p.extend=ma;p.addEvent=U;p.removeEvent=V;
p.cutSharp=na;p.addSharp=fa;p.hex2rgb=ga;p.brightness=xa;p.dec2hex=ca;p.hex2dec=oa;p.bestTextColor=function(a,b,c){return xa(a)<=125?c?c:"#FFFFFF":b?b:"#000000"};p.ColorConv=O;p.owl=sa;p.CommunicationHelper=function(a,b,c){function d(a,b){a.attachEvent?(a["ecommunicationEvent"+b]=b,a["communicationEvent"+b]=function(){a["ecommunicationEvent"+b](window.event)},a.attachEvent("oncommunicationEvent",a["communicationEvent"+b])):a.addEventListener("communicationEvent",b,!1)}var a=a||"communicationDiv",
b=b||!1,e=JSON.parse("null"),f,j,i;b&&c&&typeof c!=="function"&&eval("throw new TypeError("+c+"' is not a function');");f=function(a){c&&c(JSON.parse(a.target.innerText))};b?(j=document.createElement("div"),j.setAttribute("id",a),j.style.display="none",document.body.appendChild(j),d(j,f)):(i=document.createEvent("Event"),i.initEvent("communicationEvent",!0,!0),j=document.getElementById(a),this.send=function(a){j.innerText=JSON.stringify(a);j.dispatchEvent(i)});this.destroy=function(){if(b){var a=
j;a.detachEvent?(a.detachEvent("oncommunicationEvent",a["communicationEvent"+f]),a["communicationEvent"+f]=e):a.removeEventListener("communicationEvent",f,!1)}else document.body.removeChild(j);return j=i=e}};p.LogHelper=$;p.LZ77=W;p.IDBHelperAsync=J;p.StorageHelper=P;p.ScheduleVarsHelper=H;p.ScheduleStorageHelper=w;p.VarsHelper=C;p.ConfigHelper=v;p.ui32=n;p.canCall=T;p.inheriting=I;p.mutationTypes=Q;p.storageTypes=ha;p.inputTypes=ya;p.Aes=B;window.utility=window.$u=p})();})();
